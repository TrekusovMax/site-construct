import{G as f,x as k,r as x,j as a,B as j,a0 as v,Q as y}from"./index-1bd218be.js";function E(o){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 9h2v-4h3l-4-4-4 4h3zM10 6.75v1.542l4.579 1.708-6.579 2.453-6.579-2.453 4.579-1.708v-1.542l-6 2.25v4l8 3 8-3v-4z"}}]})(o)}const I="image_block_9E1z",B="upload_button_fsvo",C="image_znnU",D="image__button_-WgG",w="image__button_ok_DBKn",u={image_block:I,upload_button:B,image:C,image__button:D,image__button_ok:w},F=({id:o,edit:_,url:s,width:i,height:m,position:t})=>{const g=k(),l=x.useRef(null),d=e=>new Promise((c,b)=>{const r=new FormData;r.append("image",e),fetch("https://api.imgbb.com/1/upload?key=.VITE_LOAD_IMAGE_KEY}}",{method:"POST",body:r}).then(n=>n.json()).then(n=>{g(v(o,n.data.url)),c(n.data.url)}).catch(n=>{y.error("Ошибка загрузки файла!"),b("Upload failed")})}),p=()=>{l.current&&l.current.click()},h=async e=>{e.stopPropagation();const c=e.target.files&&e.target.files[0]||"";await d(c)};return a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",id:"file",onChange:h,ref:l,style:{display:"none"}}),_&&a.jsx(j,{className:u.upload_button,onClick:p,children:a.jsx(E,{})}),a.jsx("div",{className:u.image_block,style:{backgroundImage:`url(${s})`,width:i,height:m,top:t==null?void 0:t.top,left:t==null?void 0:t.left},children:!s&&"Изображение"})]})};export{F as default};
