import{G as f,x as k,r as x,j as a,B as j,a0 as v,Q as y}from"./index-df10a56a.js";function B(o){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 9h2v-4h3l-4-4-4 4h3zM10 6.75v1.542l4.579 1.708-6.579 2.453-6.579-2.453 4.579-1.708v-1.542l-6 2.25v4l8 3 8-3v-4z"}}]})(o)}const C="image_block_9E1z",w="upload_button_fsvo",z="image_znnU",D="image__button_-WgG",E="image__button_ok_DBKn",u={image_block:C,upload_button:w,image:z,image__button:D,image__button_ok:E},I=({id:o,edit:i,url:s,width:m,height:g,position:t})=>{const _=k(),c=x.useRef(null),d=e=>new Promise((l,h)=>{const r=new FormData;r.append("image",e),fetch("https://api.imgbb.com/1/upload?key=334ecea9ec1213784db5cb9a14dac265",{method:"POST",body:r}).then(n=>n.json()).then(n=>{_(v(o,n.data.url)),l(n.data.url)}).catch(n=>{y.error("Ошибка загрузки файла!"),h("Upload failed")})}),b=()=>{c.current&&c.current.click()},p=async e=>{e.stopPropagation();const l=e.target.files&&e.target.files[0]||"";await d(l)};return a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",id:"file",onChange:p,ref:c,style:{display:"none"}}),i&&a.jsx(j,{className:u.upload_button,onClick:b,children:a.jsx(B,{})}),a.jsx("div",{className:u.image_block,style:{backgroundImage:`url(${s})`,width:m,height:g,top:t==null?void 0:t.top,left:t==null?void 0:t.left},children:!s&&"Изображение"})]})};export{I as default};
