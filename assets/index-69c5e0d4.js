import{j as e,i as C,a5 as i,x as m,r as u,a4 as p}from"./index-1bd218be.js";import{B as j,a as E}from"./button-add-273b59f9.js";import{I as N}from"./input-edit-7628c2ac.js";const f="checkbox__label_-1zq",v="checkbox__input_nzSB",D="checkbox__input_checked_f99n",o={checkbox__label:f,checkbox__input:v,checkbox__input_checked:D},I=({field:t,onChecked:n})=>e.jsx("div",{className:o.checkbox__wrapper,children:e.jsxs("label",{className:o.checkbox__label,children:[e.jsx("input",{id:t.id,className:C(o.checkbox__input,t.isChecked&&o.checkbox__input_checked),type:"checkbox",checked:t.isChecked,onChange:()=>n(t.id)}),e.jsx("span",{className:o.checkbox__label_text,children:t.label})]})}),A="checkbox_2hzL",g="button_edit_hEib",B="button_ok_JNXU",F="edit_checkbox__title_i2DN",z="edit_checkbox__item_YvkH",_={checkbox:A,button_edit:g,button_ok:B,edit_checkbox__title:F,edit_checkbox__item:z},w=({fields:t,onChange:n,onDelete:d,onAddElement:a})=>e.jsxs("div",{className:_.edit_checkbox,children:[e.jsx("p",{className:_.edit_checkbox__title,children:"Редактирование полей checkbox"}),e.jsx(e.Fragment,{children:t.map(s=>e.jsxs("div",{className:_.edit_checkbox__item,children:[e.jsx(j,{onClick:()=>d(s.id)}),e.jsx(N,{id:s.id,value:s.label,onChange:n})]},s.id))}),e.jsx("div",{className:_.edit_checkbox__add_buton,children:e.jsx(E,{onClick:a})})]}),y=[{id:i(),label:"CheckItem 1",isChecked:!0},{id:i(),label:"CheckItem 2",isChecked:!1},{id:i(),label:"CheckItem 3",isChecked:!1}],H=(t,n)=>{const d=m(),[a,s]=u.useState(t);return u.useEffect(()=>{d(p({id:n,label:"Checked",value:a.filter(c=>c.isChecked).reduce((c,l)=>c+l.label+", ","").slice(0,-2)}))},[a]),{checkboxFields:a,handleEdit:c=>{s(l=>l.map(h=>h.id===c.target.id?{...h,label:c.target.value}:h))},handleDelete:c=>{s(l=>l.filter(h=>h.id!==c))},handleAddElement:()=>{s([...a,{id:i(),label:"New checkbox",isChecked:!1}])},handleChecked:c=>{s(l=>l.map(h=>h.id===c?{...h,isChecked:!h.isChecked}:h))}}},J=({edit:t,id:n,position:d,width:a,height:s})=>{const{checkboxFields:k,handleEdit:x,handleDelete:b,handleAddElement:r,handleChecked:c}=H(y,n);return e.jsxs("div",{className:_.checkbox,style:{top:d==null?void 0:d.top,left:d==null?void 0:d.left,width:a,height:s},"data-testid":"construct-checkbox",children:[e.jsx("ul",{children:k.map(l=>e.jsx("li",{children:e.jsx(I,{field:l,onChecked:c})},l.id))}),t&&e.jsx(w,{fields:k,onChange:x,onDelete:b,onAddElement:r})]})};export{J as default};
